---
import { sbGetBySlug, sbGetSlugsByPrefix } from "../../lib/storyblok";

export async function getStaticPaths() {
  const slugs = await sbGetSlugsByPrefix("page");
  return slugs.map((slug) => ({
    params: { slug },
  }));
}

const { slug } = Astro.params;
const story = await sbGetBySlug(`page/${slug}`);
const c = story.content;
---
<html>
  <head><title>{c.title}</title></head>
  <body>
    <a href="/">‚Üê Back</a>
    <h1>{c.title}</h1>
    <pre style="white-space: pre-wrap;">{c.body}</pre>
  </body>
</html>